# TRPGManage ～あなたのTRPGライフのお手伝い～

## ■ 概要

　どどんとふでのTRPGプレイ支援ソフト  
　DodontoF RESTAPI Client Software  
　  
　自身で立てた[どどんとふ](http://www.dodontof.com/)サーバのWebIFを実行し、ダイスロールや各種リソース管理を行います。  
　また、キャラクターデータを[キャラクター保管所](https://charasheet.vampire-blood.net/)様より受信し作成します。  
<br/>

## ■ 作者
　いとこんにゃく  
<br/>



## ■ソフトウェア群

|　|名前      |使用システム            |
|--|----------|------------------------|
|◇|TRPGManage|どどんとふブラウザ コア |
|├|DfWGDB    |ダイスボット（プレーン）|
|├|DfWGAr    |アリアンロッド          |
|├|DfWGCoC   |クトゥルフ神話TRPG      |
|├|DfWGXX    |ダブルクロス            |
|└|DfWGIS    |インセイン              |

<br/>

## ■ このソフトの利用について

　このソフトウェアはどどんとふ稼働サーバを自ら用意できる人向けのソフトウェアとなります。  
　[どどんとふ作者様の作られたマニュアル](http://www.dodontof.com/DodontoF/README.html) を確認の上、自身のサーバ上のどどんとふに利用してください。  
　決して作者様鯖や公式鯖、他自ら立てたサーバ以外のあらゆるサーバへこのソフトを用いて通信を試みないでください。  
　  
　また、本ソフトにおいてキャラクターデータを[キャラクター保管所](https://charasheet.vampire-blood.net/)様よりWebスクレイピングを用いて受信する機能があります。  
　この機能に関しても連続受信等、運用者様に迷惑のかかるような行為はお止めください。  

　このソフトウェアは他所様に迷惑をかける意図で作成しておりません。  
　意図的であるか否かに関わらず、他者に迷惑がかかるような事態となった場合公開を停止する場合があります。  
<br/>

## ■ 本ソフトウェア使用ライセンス

Copyright (c) 2018-2019 ItoKonnyaku（下記記載のライブラリ・画像を除くすべて）  
　  
以下に定める条件に従い、本ソフトウェアおよび関連文書のファイル（以下「ソフトウェア」）の複製を取得するすべての人に対し、ソフトウェアの使用を許可します。  
本パッケージに含まれる全てのファイル・リソースの二次配布・有償販売・商用利用を禁止します。  
下記記載のライブラリ・画像に関してはそれぞれのライセンスに従い利用してください。  
　  
上記の著作権表示および本許諾表示を、ソフトウェアのすべての複製または重要な部分に記載するものとします。  
　  
ソフトウェアは「現状のまま」で、明示であるか暗黙であるかを問わず、何らの保証もなく提供されます。ここでいう保証とは、特定の目的への適合性、および権利非侵害についての保証も含みますが、
それに限定されるものではありません。 作者または著作権者は、契約行為、不法行為、またはそれ以外であろうと、ソフトウェアに起因または関連し、あるいはソフトウェアの使用またはその他の扱いによって
生じる一切の請求、損害、その他の義務について何らの責任も負わないものとします。  
　  
　**このソフトウェアを実行した時点で上記についてすべて承諾したものとします。**  
<br/>

## ■ 使用法
 - **肌で感じてください。** 詳細な使用法は省きます。  
   `[設定]タブ`に自身で立てたサーバのURL( http(s):// ~~~~ /DodontoF )　**末尾に/を入れない！**  
   サーバユーザ、サーバパスはDigest認証が存在する場合に入力してください。Basic認証もSaveData.xmlをいじればおそらく対応できます。  
   部屋番号はダイスを振る部屋を数字で指定、パスワードは部屋パスワードを入力。  
   ダイスボットは各システムのダイスボット英字を入れてください。(例：ダブルクロスはDoubleCross)  
   シークレットダイス機能はAPI制限上、「別の部屋で普通に振ったダイス結果」を引っ張ってきます。   
   あらかじめシークレットダイス専用部屋を作成の上、パスワードをかけて他参加者に見えないようにします。   
   SaveData.xmlのServer - ServerInfo - SeacretRoomNo 及び SeacretPasswordに部屋番号とパスワードを設定してください。

<br/>


## ■ FAQ

 - **送信したのに結果が表示されない！**
    -  部屋番号を間違えていませんか？`[設定]タブ`の部屋番号をご確認ください。

 - **起動時にソフトのウインドウが明後日の方向に行ってしまって操作できない！**
   - 一度タスクバー右クリックで終了し`[Shift]キー`を押し続けながら起動してください。Window位置が初期化されます。
 
 - **キャラデータを間違って編集・削除してしまった！起動前の状態に戻したい！**
   - `[設定]タブ/[保存せずに終了]`を押すと変更を保存せずに終了します。再起動で元通り！
   - `[ソフトの場所]\SaveData.xml.b[0-9]`というファイル名で履歴を保存しています。  
     戻したい時点のファイルを`SaveData.xml`に名前変更すればその時点での状態に戻ります。
   - （アンドゥ／リドゥの実装予定は）ないです。
 

 - **ソフトウェアのアイコン画像選択が恣意的では？ボブは訝しんだ。**
   - 作者 ~~の性癖~~ が各システムで作成したキャラの立ち絵として使わせていただいたものです。  
     詳細は下記に記載しておりますのでご確認ください。   
     絵師様へ：大変ありがたく使わせていただいております。使用に不都合がある場合変更いたしますのでご連絡ください。 
<br>


## ■ ソフトウェアのアップデートについて

1. 旧ソフトを起動し、引継したいキャラクターを選択し`[ExportXML]`ボタンを押してください。  
   `[ソフトの場所]\Export\[キャラクター名(TRPGシステム)].xml`が作成されます。  
   必要なキャラクター分個別に実施してください。
2. 新ソフトのZipファイルを解凍し、全ファイルをコピー、旧ソフトに上書きします。
3. 新ソフトを起動し、`[キャラ]タブ/[キャラ選択・移動・削除]`に先程のxmlファイルをD&Dします。  
   複数ファイルをまとめてコピー可能です。

　※ 破壊的アップデートがあった場合、キャラクターインポートが出来ない場合があります。  
　　 その際は諦めてください。そうなる場合管理者よりアナウンスします。  
<br/>


## ■ Udonarium連携について

1. 使用したいキャラクターを選択し`[ExportUdoZip]`ボタンを押してください。  
   `[ソフトの場所]\Export\[キャラクター名(TRPGシステム)].zip`が作成されます。  
   <U>どどんとふ上でキャラ画像を設定していた場合、現在選択している画像も取り込まれます。</U>
2. Udonariumをブラウザ(Chrome推奨)で起動し、作成したZipファイルをD&Dします。  

　※ Ver089時点ではDfWGCoC以外はあまり実用的ではありません！  
<br/>

## ■ バージョン情報

|Ver |日付    |詳細|
|----|--------|----|
|095 |20/03/20|[CoC]成長判定バグ修正
|094 |19/12/06|Github公開向けにソースコードの整理、Github公開
|093 |19/09/30|<b>[mod]</b>DfWGISアビリティ、コネクション、アイテムの追加。
|092 |19/09/29|<b>[new]</b>DfWGISの実装<br/><b>[fix]</b>CoC起動後、初回時にSANチェックができない問題の修正。
|091 |19/04/12|ダイスカウンターに+D3追加<br/>システム毎にダイスロール受信結果を変える(DfWGXXダメージ算出用)<br/>エフェクト・コンボコピーの追加(DfWGXX)、バグ修正(DfWGXX)
|090 |19/04/07|サーバーSync機能追加。キャラ等削除時の挙動修正(選択なし→直上選択)<br/>セーブ履歴機能追加。タイムアウト見直し(30sec)
|089 |19/04/03|カットイン結果表示。シート受信中の再受信阻止。非同期処理強化。<br/>補正値上下限の見直し。性能改善、リファクタリング。<br/>README.htmlの整備(このファイル)
|088 |19/03/23|起動時に[Shift]押下でWindow表示を初期化機能追加
|0872|19/03/16|バグ修正（DfWGXX 戦闘メジャー行為の補正反映が出来ていない部分の修正）
|0871|19/03/02|UdonaExport機能、画像表示エラーの修正、Exportフォルダ自動生成失敗バグの修正
|087 |19/02/24|キャラクターインポート・エクスポート実装
|086 |19/02/23|SSL対応
|085 |19/02/08|DfWGXXの実装
|084 |19/01/28|DfWGDBの実装
|083 |18/11/19|非同期実行(ダイス送信、キャラシー受信等)時のタイムアウト実装(60sec)<br/>バグ修正(ダイス振ってから動作止まる原因の除去)
|082b|18/11/17|CoCSan値の最大値が20になっていたのを修正
|082 |18/11/13|カットイン実装
|081b|18/11/12|スキルコスト欄の[Add]の実装
|081 |18/11/12|改良版公開

<br/>

## ■ 使用ライブラリ

|名称                |作者                                                               |ライセンス                             |
|--------------------|-------------------------------------------------------------------|---------------------------------------|
|DynamicJson         |neuecc                                                             |MS-PL                                  |
|HTMLAgilityPack     |ZZZ Projects<br/>Simon Mourrier<br/>Jeff Klawiter<br/>Stephan Grell|MIT                                    |
|NLog                |Jarek Kowalski<br/>Kim Christensen<br/>Julian Verdurmen            |BSD 3-Clause "New" or "Revised" License|
|CommonServiceLocator|Microsoft                                                          |MS-PL                                  |
|Prism               |Brian Lagunas<br/>Bart Lannoeye<br/>Dan Siegel                     |MIT                                    |
|gong-wpf-dragdrop   |punker76                                                           |BSD 3-Clause "New" or "Revised" License|

<br/>

## ■ 使用アイコンについて

***「可愛いは、正義。」***  
ライセンスは各参照元をご確認ください。（基本的に使用改変自由・二次配布不可）

|アイコン                        |システム|作者       |参照元                                                                               |
|:------------------------------:|--------|-----------|-------------------------------------------------------------------------------------|
|![DfWGDB](HelpImgs/DfWGDB.png)  |DfWGDB  |からい氏   |[【素材】東北きりたん立ち絵](http://seiga.nicovideo.jp/seiga/im7760810)              |
|![DfWGAr](HelpImgs/DfWGAr.png)  |DfWGAr  |からい氏   |[【素材】結月ゆかりさん立ち絵](http://seiga.nicovideo.jp/seiga/im6232152)            |
|![DfWGCoC](HelpImgs/DfWGCoC.png)|DfWGCoC |八塚氏     |[八塚式VOICEROID立ち絵(紲星あかり)](https://github.com/spinalien/voiceroid-portraits)|
|![DfWGXX](HelpImgs/DfWGXX.png)  |DfWGXX  |blueberry氏|[羊☆あかり](http://seiga.nicovideo.jp/seiga/im7841539)                              |
|![DfWGIS](HelpImgs/DfWGIS.png)  |DfWGIS  |緒咲枕氏   |[【素材】琴葉姉妹JK風立ち絵素材【公開】](http://seiga.nicovideo.jp/seiga/im7107071)
